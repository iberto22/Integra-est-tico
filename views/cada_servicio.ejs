<%- include('../templates/head') %>
<link rel="stylesheet" href="/static/css/cada_servicio.css">

<section class="service-page container">

  <div class="service-wrapper">

      <!-- Imagen al lado derecho -->
      <div class="service-image">
        <img src="<%= service.image %>" alt="<%= service.title %>">
      </div>

      <!-- Contenido del servicio -->
      <div class="service-info">
        <h1><%= service.title %></h1>

        <p class="description"><%= service.fullDescription %></p>

        <h3>Beneficios</h3>
        <ul>
          <% if (service && Array.isArray(service.benefits) && service.benefits.length) { %>
            <% service.benefits.forEach(function(b){ %>
              <li><%= b %></li>
            <% }) %>
          <% } else { %>
            <li>No hay beneficios listados.</li>
          <% } %>
        </ul>

        <div class="service-buttons">
          <a class="btn-primary" href="/contactos">Solicitar cita</a>
          <a class="btn-secondary" href="/servicios">← Volver a servicios</a>
        </div>
      </div>

  </div>
</section>

<!-- Otras sugerencias de servicios -->
<section class="more-services container">
    <h2>Más servicios</h2>

    <div class="more-grid">
      <% 
        // Normalizar la lista de otros servicios: preferir `otherServices`,
        // luego `servicios`, y como respaldo `services` filtrado para excluir el actual.
        const list = Array.isArray(otherServices) && otherServices.length ? otherServices
          : (Array.isArray(servicios) && servicios.length ? servicios
          : (Array.isArray(services) ? services.filter(s => s.id !== (service && service.id)) : []));
      %>
      <% if (list && list.length) { %>
        <% list.forEach(function(s){ %>
          <a href="/servicio/<%= s.id %>" class="more-card">
            <img src="<%= s.image %>" alt="<%= s.title %>">
            <h4><%= s.title %></h4>
          </a>
        <% }) %>
      <% } else { %>
        <p>No hay otros servicios disponibles.</p>
      <% } %>
    </div>
</section>

<%- include('../templates/footer') %>
